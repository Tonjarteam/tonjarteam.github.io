<!doctype html><html><head><meta charset="utf - 8"><title>小数化分数2</title><link rel="stylesheet" href="../../stylesheets/timu.css" ></head>

<body>
<h1>小数化分数2</h1>
<p id="title">Ray 在数学课上听老师说，任何小数都能表示成分数的形式，他开始了化了起来，很快他就完成了，但他又想到一个问题，如何把一个循环小数化成分数呢?<br>请你写一个程序不但可以将普通小数化成最简分数，也可以把循环小数化成最简分数。</p>
<h3 onclick="change_visible('input')">Input</h3>
<p id="input">第一行是一个整数N，表示有多少组数据。<br>每组数据只有一个纯小数，也就是整数部分为0。小数的位数不超过9位，循环部分用()括起来。</p>
<h3 onclick="change_visible('output')">Output</h3>
<p id="output">对每一个对应的小数化成最简分数后输出，占一行。</p>
<h3 onclick="change_visible('sample_input')">Sample Input</h3>
<p id="sample_input">3<br>0.(4)<br>0.5<br>0.32(692307)</p>
<h3 onclick="change_visible('sample_output')">Sample Output</h3>
<p id="sample_output">4/9<br>1/2<br>17/52</p>
<h3 onclick="change_visible('code1')">code</h3>
<div id="code1" class="codearea">
<div class="lineodd"><code></code><code class="keyword">#include</code><code>&lt;iostream&gt;</code></div><div class="lineeven"><code></code><code class="keyword">#include</code><code>&lt;string&gt;</code></div><div class="lineodd"><code></code><code class="keyword">using</code><code>&nbsp;</code><code class="keyword">namespace</code><code>&nbsp;std;</code></div><div class="lineeven"><code></code><code class="keyword">int</code><code>&nbsp;gcd(</code><code class="keyword">int</code><code>&nbsp;a,</code><code class="keyword">int</code><code>&nbsp;b){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(b==0)</code><code class="keyword">return</code><code>&nbsp;a;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code>&nbsp;gcd(b,a%b);</code></div><div class="lineodd"><code>}</code></div><div class="lineeven"><code></code><code class="keyword">int</code><code>&nbsp;main(){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;n;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code>(cin&gt;&gt;n){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;q=0;q&lt;n;q</code><code class="keyword">++</code><code>){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">string</code><code>&nbsp;str;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">char</code><code>&nbsp;c;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;c&gt;&gt;c;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;str;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;fix=0,cir=0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;fra_fix=1,fra_cir=0;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;flag=0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=0;i&lt;str.length();i</code><code class="keyword">++</code><code>){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(str[i]=='('||str[i]==')')</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>(flag==0){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fix*=10;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fix+=str[i]-'0';</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fra_fix*=10;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>(flag==1){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cir*=10;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cir+=str[i]-'0';</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fra_cir*=10;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fra_cir+=9;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;a,b;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(fra_cir==0&&fra_fix==0){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=0;b=0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>(fra_cir==0&&fra_fix!=0){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=fix;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=fra_fix;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>(fra_fix==0){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=cir;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=fra_cir;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=fix*fra_cir+cir;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=fra_cir*fra_fix;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;m=gcd(a,b);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;a/m&lt;&lt;"/"&lt;&lt;b/m&lt;&lt;endl;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>}</code></div>
</div>
</body><script src = "../../javascripts/functions.js" ></script ></html>