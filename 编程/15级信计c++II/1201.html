<!doctype html><html><head><meta charset="utf - 8"><title>区间最大值</title><link rel="stylesheet" href="../../stylesheets/timu.css" ></head>

<body>
<h1>区间最大值</h1>
<p id="title">给你N个整数和一个区间长度，请你计算出若干个数组下标在给定区间中的子数组中的最大值。</p>
<h3 onclick="change_visible('input')">Input</h3>
<p id="input">第一行为二个整数N和M(M<=N<=1000000)，分别表示数组的大小和下标区间的长度。<br>第二行有N个整数，表示给定的数组。<br>第三行包含一个整数K（<=10000)表示区间的个数。<br>第四行包含K个整数b1,...,bK。</p>
<h3 onclick="change_visible('output')">Output</h3>
<p id="output">输出K行，每行为一个整数。第i行为数组a1,...aN中下标在区间[bi,bi+M-1]中子数组的值的最大值。</p>
<h3 onclick="change_visible('sample_input')">Sample Input</h3>
<p id="sample_input">10 3<br>2 1 3 5 4 6 9 8 10 7<br>3<br>2 4 7</p>
<h3 onclick="change_visible('sample_output')">Sample Output</h3>
<p id="sample_output">5<br>6<br>10</p>
<h3 onclick="change_visible('code1')">code</h3>
<pre id="code1">
#include < deque > 
#include < iostream > 
#include < cstdio > 
using namespace std;
int main() {
    int n, m, p;
    cin  >  >  n  >  >  m;
    int *a = new int[n + 1];
    for (int i = 0; i  <  n; i++)
        scanf("%d", &a[i]);
    cin  >  >  p;
    int *b = new int[p + 1];
    for (int i = 0; i  <  p; i++)
        scanf("%d", &b[i]);
    deque < int >  q;
    for (int i = 0, p1 = 0; i  <  n&&p1  <  p; i++) {
        while (!q.empty() && a[q.back()]  <  a[i])
            q.pop_back();
        q.push_back(i);
        if (q.front() < b[p1]-1)
            q.pop_front();
        if (b[p1] + m - 2 == i) {
            printf("%d\n", a[q.front()]);
            p1++;
        }
    }
    delete[]a;
    delete[]b;
}
</pre>
</body><script src = "../../javascripts/functions.js" ></script ></html>