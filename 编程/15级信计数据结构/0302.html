<!doctype html><html><head><meta charset="utf - 8"><title>逆序对</title><link rel="stylesheet" href="../../stylesheets/timu.css" ></head>

<body>
<h1>逆序对</h1>
<p id="title">在一个数组a1,a2,...,an中，如果存在两个整数1&lt;=i&lt;j&lt;=n，使得ai&gt;aj，则称数对ai和aj为数组中的一个逆序对。例如：在数组3,1,2,5,4,1中有7对数对构成逆序对。<br>现在给你N个整数，请你求出这个数组中的逆序对的个数。其中N&lt;=10^7。</p>
<h3 onclick="change_visible('input')">Input</h3>
<p id="input">本题包含多组测试数据。<br>每组测试数据的第一行包含一个正整数N（&lt;=10^7），表示数组的元素个数。<br>第二行包含N个整数，为给定的数组。<br>当N=0表述输入结束。</p>
<h3 onclick="change_visible('output')">Output</h3>
<p id="output">对每组测试数据输出一个正整数为数组中逆序对的个数。</p>
<h3 onclick="change_visible('sample_input')">Sample Input</h3>
<p id="sample_input">6<br>3 1 2 5 4 1<br>0</p>
<h3 onclick="change_visible('sample_output')">Sample Output</h3>
<p id="sample_output">7</p>
<h3 onclick="change_visible('code1')">code1</h3>
<div id="code1" class="codearea">
<div class="lineodd"><code></code><code class="keyword">#include</code><code>&lt;cstdio&gt;</code></div><div class="lineeven"><code></code><code class="keyword">using</code><code>&nbsp;</code><code class="keyword">namespace</code><code>&nbsp;std;</code></div><div class="lineodd"><code></code><code class="keyword">int</code><code>&nbsp;num[10000001];</code></div><div class="lineeven"><code></code><code class="keyword">int</code><code>&nbsp;LL[10000001];</code></div><div class="lineodd"><code></code><code class="keyword">int</code><code>&nbsp;LR[10000001];</code></div><div class="lineeven"><code></code><code class="keyword">int</code><code>&nbsp;RL[10000001];</code></div><div class="lineodd"><code></code><code class="keyword">int</code><code>&nbsp;RR[10000001];</code></div><div class="lineeven"><code></code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;qsort(</code><code class="keyword">int</code><code>&nbsp;start,</code><code class="keyword">int</code><code>&nbsp;end){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(start&gt;=end-1)</code><code class="keyword">return</code><code>&nbsp;0;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;ll=0,lr=0,rl=0,rr=0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;mid=(start+end)/2;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;key=num[mid];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;count=0;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=start;i&lt;mid;i</code><code class="keyword">++</code><code>){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(num[i]&lt;=key){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LL[ll]=num[i];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count+=lr;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LR[lr]=num[i];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lr</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=mid+1;i&lt;end;i</code><code class="keyword">++</code><code>){</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>(num[i]&lt;key){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RL[rl]=num[i];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rl</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count+=rr+1;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RR[rr]=num[i];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rr</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;p=start;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=0;i&lt;ll;i++,p</code><code class="keyword">++</code><code>)num[p]=LL[i];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=0;i&lt;rl;i++,p</code><code class="keyword">++</code><code>)num[p]=RL[i];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;mid=p;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;num[p]=key;p</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=0;i&lt;lr;i++,p</code><code class="keyword">++</code><code>)num[p]=LR[i];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>(</code><code class="keyword">int</code><code>&nbsp;i=0;i&lt;rr;i++,p</code><code class="keyword">++</code><code>)num[p]=RR[i];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;count</code><code class="keyword">+=</code><code>(</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;</code><code class="keyword">long</code><code>)lr*rl;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;count+=qsort(start,mid);</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;count+=qsort(mid+1,end);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code>&nbsp;count;</code></div><div class="lineeven"><code>}</code></div><div class="lineodd"><code></code><code class="keyword">int</code><code>&nbsp;main()&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;n;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code>&nbsp;(true)&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf("%d",&n);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>&nbsp;(n&nbsp;==&nbsp;0)</code><code class="keyword">return</code><code>&nbsp;0;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(</code><code class="keyword">int</code><code>&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&lt;n;&nbsp;i</code><code class="keyword">++</code><code>)</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf("%d",&nbsp;&num[i]);</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%llu\n",&nbsp;qsort(0,&nbsp;n));</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>}</code></div>
</div>
<h3 onclick="change_visible('code2')">code2</h3>
<div id="code2" class="codearea">
<div class="lineodd"><code><code class="zhushi">//归并排序</code></code></div><div class="lineeven"><code></code><code class="keyword">#include</code><code>&lt;iostream&gt;</code></div><div class="lineodd"><code></code><code class="keyword">#include</code><code>&lt;cstdio&gt;</code></div><div class="lineeven"><code></code><code class="keyword">#include</code><code>&lt;ctime&gt;</code></div><div class="lineodd"><code></code><code class="keyword">using</code><code>&nbsp;</code><code class="keyword">namespace</code><code>&nbsp;std;</code></div><div class="lineeven"><code></code><code class="keyword">int</code><code>&nbsp;a[2][10000001];</code></div><div class="lineodd"><code></code><code class="keyword">void</code><code>&nbsp;merge(int*,&nbsp;int*,&nbsp;int,&nbsp;</code><code class="keyword">int</code><code>&nbsp;l,</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;long&count);</code></div><div class="lineeven"><code></code><code class="keyword">void</code><code>&nbsp;sort(</code><code class="keyword">int</code><code>&nbsp;start,&nbsp;</code><code class="keyword">int</code><code>&nbsp;end,</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;long&count)&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;n&nbsp;=&nbsp;end&nbsp;</code><code class="keyword">-</code><code>&nbsp;start;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;=&nbsp;0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;<code class="zhushi">//int* b=new int[n];</code></code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;merge(&a[0][0],&nbsp;&a[1][0],&nbsp;n,1,count);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;<code class="zhushi">//delete[] b;</code></code></div><div class="lineeven"><code>}</code></div><div class="lineodd"><code></code><code class="keyword">void</code><code>&nbsp;merge(int*from,&nbsp;int*to,&nbsp;</code><code class="keyword">int</code><code>&nbsp;n,&nbsp;</code><code class="keyword">int</code><code>&nbsp;length,</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;long&count)&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;k&nbsp;=&nbsp;0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(</code><code class="keyword">int</code><code>&nbsp;i&nbsp;=&nbsp;0,&nbsp;j&nbsp;=&nbsp;length;&nbsp;i&lt;n;&nbsp;j&nbsp;</code><code class="keyword">+=</code><code>&nbsp;length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2,&nbsp;i&nbsp;</code><code class="keyword">+=</code><code>&nbsp;length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2)&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;m1&nbsp;=&nbsp;i,&nbsp;m2&nbsp;=&nbsp;j;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m1&lt;j&&m1&lt;n&&m2&lt;n&&m2&lt;j&nbsp;</code><code class="keyword">+</code><code>&nbsp;length;)&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>&nbsp;(from[m1]&lt;=from[m2])&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m1];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>&nbsp;(from[m1]&gt;from[m2])&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m2];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m2</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</code><code class="keyword">+=</code><code>&nbsp;(j&nbsp;</code><code class="keyword">-</code><code>&nbsp;m1);</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;to[k&nbsp;</code><code class="keyword">+</code><code>&nbsp;1]&nbsp;=&nbsp;from[m1];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;</code><code class="keyword">+=</code><code>&nbsp;2;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m2</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m1&lt;j&&m1&lt;n;&nbsp;m1++,&nbsp;k</code><code class="keyword">++</code><code>)</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m1];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m2&lt;n&&m2&lt;j&nbsp;</code><code class="keyword">+</code><code>&nbsp;length;&nbsp;m2++,&nbsp;k</code><code class="keyword">++</code><code>)</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m2];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;length&nbsp;</code><code class="keyword">*=</code><code>&nbsp;2;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;int*tmp&nbsp;=&nbsp;from;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;=&nbsp;to;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;=&nbsp;tmp;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;=&nbsp;0;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(</code><code class="keyword">int</code><code>&nbsp;i&nbsp;=&nbsp;0,&nbsp;j&nbsp;=&nbsp;length;&nbsp;i&lt;n;&nbsp;j&nbsp;</code><code class="keyword">+=</code><code>&nbsp;length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2,&nbsp;i&nbsp;</code><code class="keyword">+=</code><code>&nbsp;length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2)&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;m1&nbsp;=&nbsp;i,&nbsp;m2&nbsp;=&nbsp;j;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m1&lt;j&&m1&lt;n&&m2&lt;n&&m2&lt;j&nbsp;</code><code class="keyword">+</code><code>&nbsp;length;)&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>&nbsp;(from[m1]&lt;=from[m2])&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m1];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;</code><code class="keyword">if</code><code>&nbsp;(from[m1]&gt;from[m2])&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m2];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m2</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;</code><code class="keyword">+=</code><code>&nbsp;(j&nbsp;</code><code class="keyword">-</code><code>&nbsp;m1);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">else</code><code>&nbsp;{</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;to[k&nbsp;</code><code class="keyword">+</code><code>&nbsp;1]&nbsp;=&nbsp;from[m1];</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;</code><code class="keyword">+=</code><code>&nbsp;2;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1</code><code class="keyword">++</code><code>;</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m2</code><code class="keyword">++</code><code>;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m1&lt;j&&m1&lt;n;&nbsp;m1++,&nbsp;k</code><code class="keyword">++</code><code>)</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m1];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(;&nbsp;m2&lt;n&&m2&lt;j&nbsp;</code><code class="keyword">+</code><code>&nbsp;length;&nbsp;m2++,&nbsp;k</code><code class="keyword">++</code><code>)</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to[k]&nbsp;=&nbsp;from[m2];</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>&nbsp;(length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2&lt;n)</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code><code>&nbsp;merge(to,&nbsp;from,&nbsp;n,&nbsp;length&nbsp;</code><code class="keyword">*</code><code>&nbsp;2,count);</code></div><div class="lineeven"><code>}</code></div><div class="lineodd"><code></code><code class="keyword">int</code><code>&nbsp;main()&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">int</code><code>&nbsp;n;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">while</code><code>&nbsp;(1)&nbsp;{</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">unsigned</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;</code><code class="keyword">long</code><code>&nbsp;count&nbsp;=&nbsp;0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf("%d",&nbsp;&n);</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code><code>&nbsp;(n&nbsp;==&nbsp;0)</code><code class="keyword">return</code><code>&nbsp;0;</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">for</code><code>&nbsp;(</code><code class="keyword">int</code><code>&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&lt;n;&nbsp;i</code><code class="keyword">++</code><code>){</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf("%d",&nbsp;&a[0][i]);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort(0,&nbsp;n,count);</code></div><div class="lineodd"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%llu\n",&nbsp;count);</code></div><div class="lineeven"><code>&nbsp;&nbsp;&nbsp;&nbsp;}</code></div><div class="lineodd"><code>}</code></div>
</div>
</body><script src = "../../javascripts/functions.js" ></script ></html>